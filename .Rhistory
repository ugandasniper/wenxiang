dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
mapping_expected
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
`情绪管理能力` = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节  = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
})
get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
test_mapping
View(test_mapping)
get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
list(
`情绪管理能力` = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
`情绪管理能力` = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
})
get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
})
mapping_expected  <-
list(
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")),
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
devtools::load_all(".")
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")),
)
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理"))
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
test_mapping
get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪管理 = c("情绪管理")),
情绪调节 = c("情绪调节")
)
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪管理 = c("情绪管理"),
情绪调节 = c("情绪调节")
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
expect_equal(get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
),
mapping_expected)
get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_equal(mapping_tested, mapping_expected)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_equal(mapping_tested, mapping_expected)
})
mapping_tested
mapping_tested %>% str()
mapping_expected %>% str()
is.identical(mapping_expected, mapping_tested)
identical(mapping_expected, mapping_tested)
expect_identical(mapping_tested, mapping_expected)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_identical(mapping_tested, mapping_expected)
})
identical(mapping_tested, mapping_expected)
all.equal(mapping_tested, mapping_expected)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_equal(mapping_tested, mapping_expected)
})
mapping_expected
# expect_equal(mapping_tested, mapping_expected)
expect_equal(a, 10)
# expect_equal(mapping_tested, mapping_expected)
a <- 10
expect_equal(a, 10)
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
# expect_equal(mapping_tested, mapping_expected)
a <- 10
expect_equal(a, 10)
})
expect_identical(mapping_tested, mapping_expected)
source('~/Documents/wenxiang/tests/testthat/test-get_dimension_mapping_from_df.R', echo=TRUE)
expect_equal(10, 10)
expect_equal(10, 10 + 1e-7)
expect_equal(10, 11)
base::identical(mapping_tested)
base::identical(mapping_tested, mapping_expected)
p <- new(tutorial.Person, name = "John", id = 1)
p2 <- new(tutorial.Person, name = "John", id = 1)
expect_identical(mapping_tested, mapping_expected)
mapping_tested
mapping_expected
mapping_tested
mapping_expected
nested_equal <- function(l1, l2) {
left_diff <- setdiff(
purrr::map_depth(l1, 1, sort),
purrr::map_depth(l2, 1, sort)
)
right_diff <- setdiff(
purrr::map_depth(l2, 1, sort),
purrr::map_depth(l1, 1, sort)
)
(length(left_diff) == 0) & (length(right_diff) == 0)
}
nested_equal(mapping_tested, mapping_expected)
nested_equal <- function(l1, l2) {
left_diff <- setdiff(
purrr::map_depth(l1, 1, sort),
purrr::map_depth(l2, 1, sort)
)
right_diff <- setdiff(
purrr::map_depth(l2, 1, sort),
purrr::map_depth(l1, 1, sort)
)
(length(left_diff) == 0) & (length(right_diff) == 0)
}
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
nested_equal(mapping_tested, mapping_expected)
})
mapping_tested
mapping_tested %>% unlist()
expect_identical(unlist(mapping_tested), unlist(mapping_expected))
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_identical(unlist(mapping_tested), unlist(mapping_expected))
})
unlist(mapping_tested)
unlist(mapping_expected)
names(unlist(mapping_tested)), names(unlist(mapping_expected))
names(unlist(mapping_tested)) == names(unlist(mapping_expected))
identical(names(unlist(mapping_tested)), names(unlist(mapping_expected)))
expect_equal(unlist(mapping_tested), unlist(mapping_expected))
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
expect_equal(unlist(mapping_tested), unlist(mapping_expected))
})
expect_equivalent(unlist(mapping_tested), unlist(mapping_expected))
test_that("`get_dimension_mapping_from_df` works", {
mapping_expected  <-
list(
情绪管理能力 = list(
情绪管理能力 = c("自我情绪识别", "他人情绪识别", "情绪调节能力")
),
`ERC（儿童情绪检核表）` = list(
情绪调节 = c("情绪调节"),
情绪管理 = c("情绪管理")
)
data(test_mapping)
mapping_tested <- get_dimension_mapping_from_df(
test_mapping,
dim_cols = c(
'scale',
'dimension-1',
'dimension-2'
)
})
library('brucer')
library('bruceR')
install.packages('bruceR')
install.mvtnorm
install.packages(mvtnorm)
install.packages('mvtnorm')
library(bruceR)
library('bruceR')
install.packages('bruceR')
install.packages()
install.packages('lgfortran')
install.packages('-lgfortran')
install.packages('--lgfortran')
install.packages('-lgfortran')
install.packages('ld')
dim
data("mapping_mixed")
mapping_mixed
